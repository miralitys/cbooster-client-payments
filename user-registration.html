<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Registration</title>
    <link rel="stylesheet" href="/styles.css?v=20260219-user-registration" />
    <script src="/user-registration.js?v=20260219-user-registration" defer></script>
  </head>
  <body>
    <main class="page-shell" aria-busy="false">
      <div class="container user-registration-page">
        <header class="section page-header user-registration-page-header">
          <div class="page-header__title">
            <p class="eyebrow">Credit Booster</p>
            <h1>User Registration</h1>
            <p class="user-registration-subtitle">Create a new department user (Owner only)</p>
          </div>

          <div class="page-header__right">
            <div id="account-menu" class="account-menu">
              <button
                id="account-menu-toggle"
                type="button"
                class="account-menu__toggle"
                aria-haspopup="menu"
                aria-expanded="false"
                aria-controls="account-menu-panel"
                aria-label="Open account menu"
              >
                <span class="account-menu__line" aria-hidden="true"></span>
                <span class="account-menu__line" aria-hidden="true"></span>
                <span class="account-menu__line" aria-hidden="true"></span>
              </button>

              <div id="account-menu-panel" class="account-menu__panel" role="menu" hidden>
                <a href="/" class="account-menu__item" role="menuitem">Main</a>
                <a href="/quickbooks-payments" class="account-menu__item" role="menuitem">Quick Book Payment</a>
                <a href="/Client_Payments" class="account-menu__item" role="menuitem">Client Payment</a>
                <a href="/client-managers" class="account-menu__item" role="menuitem">Client - Manager Test</a>
                <a href="/access-control" class="account-menu__item" role="menuitem">Access Control</a>
                <div class="account-menu__divider" aria-hidden="true"></div>
                <p id="account-menu-user" class="account-menu__user">User: -</p>
                <button id="account-logout-action" type="button" class="account-menu__item" role="menuitem">
                  Log Out
                </button>
              </div>
            </div>
          </div>
        </header>

        <section class="section user-registration-form-panel" aria-live="polite">
          <h2 class="section-heading">New User</h2>
          <p id="user-registration-status" class="dashboard-message user-registration-status">
            Fill out the form to create a new user.
          </p>

          <form id="user-registration-form" class="user-registration-form" novalidate>
            <label class="user-registration-field">
              <span>Username (Email)</span>
              <input id="new-user-username" name="username" type="email" autocomplete="off" required />
            </label>

            <label class="user-registration-field">
              <span>Password</span>
              <input id="new-user-password" name="password" type="password" autocomplete="new-password" minlength="8" required />
            </label>

            <label class="user-registration-field">
              <span>Display Name</span>
              <input id="new-user-display-name" name="displayName" type="text" maxlength="140" autocomplete="off" />
            </label>

            <label class="user-registration-field">
              <span>Department</span>
              <select id="new-user-department" name="departmentId" required>
                <option value="accounting">Accounting Department</option>
                <option value="client_service">Client Service Department</option>
                <option value="sales">Sales Department</option>
                <option value="collection">Collection Department</option>
              </select>
            </label>

            <label class="user-registration-field">
              <span>Role</span>
              <select id="new-user-role" name="roleId" required></select>
            </label>

            <label class="user-registration-field user-registration-field--wide" id="new-user-team-field" hidden>
              <span>Team Usernames (comma separated, for Middle Manager)</span>
              <input id="new-user-team" name="teamUsernames" type="text" autocomplete="off" />
            </label>

            <button id="create-user-button" type="submit" class="btn btn-primary">Create User</button>
          </form>
        </section>

        <section class="section user-registration-users-panel" aria-live="polite">
          <h2 class="section-heading">Current Users</h2>
          <div class="table-wrap user-registration-users-wrap">
            <table class="user-registration-users-table">
              <thead>
                <tr>
                  <th>Username</th>
                  <th>Display Name</th>
                  <th>Role</th>
                  <th>Department</th>
                  <th>Owner</th>
                </tr>
              </thead>
              <tbody id="user-registration-users-body"></tbody>
            </table>
          </div>
        </section>
      </div>
    </main>
  </body>
</html>
