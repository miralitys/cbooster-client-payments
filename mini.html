<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CB Payment Mini App</title>
    <style>
      :root {
        --bg: #0d1117;
        --panel: #161b22;
        --line: #30363d;
        --text: #e6edf3;
        --muted: #8b949e;
        --brand: #2f81f7;
        --danger: #f85149;
        --ok: #3fb950;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 16px;
        font-family:
          "Segoe UI",
          -apple-system,
          BlinkMacSystemFont,
          "Helvetica Neue",
          Arial,
          sans-serif;
        color: var(--text);
        background: var(--bg);
      }

      .shell {
        max-width: 560px;
        margin: 0 auto;
      }

      .title {
        margin: 0 0 4px;
        font-size: 22px;
      }

      .subtitle {
        margin: 0 0 16px;
        color: var(--muted);
        font-size: 14px;
      }

      form {
        background: var(--panel);
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 14px;
        display: grid;
        gap: 12px;
      }

      .field {
        display: grid;
        gap: 6px;
      }

      label {
        font-size: 13px;
        color: var(--muted);
      }

      input:not([type="checkbox"]),
      textarea {
        width: 100%;
        border: 1px solid var(--line);
        border-radius: 10px;
        background: #0f141b;
        color: var(--text);
        padding: 10px 11px;
        font-size: 15px;
      }

      textarea {
        min-height: 84px;
        resize: vertical;
      }

      .checkbox-row {
        display: grid;
        gap: 8px;
        grid-template-columns: 1fr 1fr;
      }

      .checkbox-field {
        display: flex;
        align-items: center;
        gap: 8px;
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 10px;
      }

      .checkbox-field input[type="checkbox"] {
        width: 18px;
        height: 18px;
        margin: 0;
        accent-color: var(--brand);
        flex: 0 0 auto;
      }

      .checkbox-field span {
        color: var(--text);
      }

      button {
        border: 0;
        border-radius: 10px;
        background: var(--brand);
        color: #fff;
        font-weight: 600;
        padding: 11px 14px;
        cursor: pointer;
      }

      button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .message {
        min-height: 20px;
        margin: 10px 2px 0;
        font-size: 14px;
      }

      .message.error {
        color: var(--danger);
      }

      .message.success {
        color: var(--ok);
      }

      @media (max-width: 420px) {
        .checkbox-row {
          grid-template-columns: 1fr;
        }
      }
    </style>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="/mini.js" defer></script>
  </head>
  <body>
    <main class="shell">
      <h1 class="title">Add Client</h1>
      <p class="subtitle">Credit Booster Mini App (submissions require moderation)</p>

      <form id="mini-client-form" novalidate>
        <div class="field">
          <label for="clientName">Client Name *</label>
          <input id="clientName" name="clientName" required autocomplete="off" />
        </div>

        <div class="field">
          <label for="closedBy">Closed By</label>
          <input id="closedBy" name="closedBy" autocomplete="off" />
        </div>

        <div class="field">
          <label for="companyName">Company Name</label>
          <input id="companyName" name="companyName" autocomplete="off" />
        </div>

        <div class="field">
          <label for="serviceType">Service Type</label>
          <input id="serviceType" name="serviceType" autocomplete="off" />
        </div>

        <div class="field">
          <label for="contractTotals">Contract Totals</label>
          <input id="contractTotals" name="contractTotals" autocomplete="off" />
        </div>

        <div class="field">
          <label for="payment1">Payment 1</label>
          <input id="payment1" name="payment1" autocomplete="off" />
        </div>

        <div class="field">
          <label for="payment1Date">Payment 1 Date</label>
          <input id="payment1Date" name="payment1Date" placeholder="MM/DD/YYYY" autocomplete="off" />
        </div>

        <div class="field">
          <label for="notes">Notes</label>
          <textarea id="notes" name="notes"></textarea>
        </div>

        <div class="checkbox-row">
          <label class="checkbox-field">
            <input type="checkbox" name="afterResult" />
            <span>After Result</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="writtenOff" />
            <span>Written Off</span>
          </label>
        </div>

        <button type="submit" id="mini-submit-button">Add Client</button>
      </form>

      <p id="mini-message" class="message" role="status" aria-live="polite"></p>
    </main>
  </body>
</html>
